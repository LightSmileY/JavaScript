# 数据链路层概述

### 一、封装成帧

- **“帧”是数据链路层数据的基本单位**
- **发送端在网络层的一段数据前后添加特定标记形成“帧”**
- **接收端根据前后特定标记识别出“帧”**

（物理层才不管你 “帧” 不 “帧”）

**帧：帧首部 + “帧”数据 + 帧首部** 

### 二、透明传输

- “透明”在计算机领域中是一个非常重要的术语
- “一种实际存在的事物却又看起来不存在一样”
- “即是控制字符在帧数据中，但是要当做不存在的去处理” （转义）

### 三、差错检测

- 物理层只管传输比特流，无法控制是否出错
- 数据链路层负责起“差错检测”的工作

<br/>



### 数据链路层的差错检测

#### 1. 奇偶校验码

#### 2. 循环冗余校验码CRC

##### 定义：

- 一种根据传输或保存的数据而**产生固定位数校验码**的方法
- **检测**数据传输或者保存后可能出现的错误
- 生成的数字计算出来并且**附加到数据后面**

##### 注意：

- CRC的错误检测能力只进行数据的检测，不进行纠正
- 数据链路层只进行数据的检测，不进行纠正

<br/>



### 最大传输单元MTU

#### 1. MTU

——能传输的最大数据帧

**数据帧过大或过小都会影响传输的效率**（以太网MTU一般为1500字节）

#### 2. 路径MTU

```javascript
终端 -> (1500)路由 -> ~ (1450) -> (5000)路由 -> (1500)终端
// MTU = 1450
```

**路径MTU由链路中MTU的最小值决定**

<br/>



### 以太网协议详解

#### MAC地址

- MAC地址 （物理地址、硬件地址）(ipconfig /all查看)
- 每一个设备都拥有唯一的MAC地址
- MAC地址共48位，使用十六进制表示

形式：30-B4-9E-ED-85-CA

#### 以太网协议

- 以太网是一种使用广泛的局域网技术
- 以太网是一种应用于数据链路层的协议
- 使用以太网可以完成相邻设备的数据帧传输

以太网数据格式：

| 目的地址 | 源地址 | 类型 |  帧数据   | CRC  |
| :------: | :----: | :--: | :-------: | :--: |
| 6 (byte) |   6    |  2   | 46 ~ 1500 |  4   |

#### MAC地址表

![](http://cdn.fengblog.xyz/lu1.png)

![](http://cdn.fengblog.xyz/lu2.png)

![](http://cdn.fengblog.xyz/lu3.png)