# 上线和回滚

##### (交流型面试)

### 上线和回滚的基本流程

上线和回滚是非常重要的开发环节，各个公司的具体上线流程不同，由专门的工具或者系统完成，如果没参加过，面试也要说出要点。

#### 上线流程要点

- ##### 将测试完成的代码提交到Git版本库的master分支

- ##### 将当前服务器的代码全部打包并记录版本号，备份

- ##### 将master分支的代码提交覆盖到线上服务器，生成新版本号

#### 回滚流程要点

- ##### 将当前服务器的代码打包并记录版本号，备份

- ##### 将备份的上一个版本号解压，覆盖到线上服务器，并生成新的版本号

（上线和回滚是不断覆盖的过程）

<br/>

### Linux 基本命令

- 服务器使用 Linux居多，server版，只有命令行
- 测试环境要匹配线上环境，因此也是Linux
- 经常需要登录测试机来自己配置、获取数据

```javascript
mkdir a  //创建文件夹
touch a.js //创建文件
ls  //查看该目录下所有文件
ll  //列表形式查看
cd a  //打开a文件夹
pwd // 查看当前位置
cd ..  //返回上一级
rm -rf a // 删除文件夹
rm a.js // 删除文件
cp a.js a1.js  //复制a.js为a1.js
mv a1.js src/a1.js  //将a1.js移动到src文件夹下

vi a.js 
//进入vim环境，查看/创建/编辑文件
//点"i"进入输入环境，"Esc"返回
//回到初始状态下按"Esc"输":w"，回车保存
//":q"退出

cat a.js  //查看文件，打印在控制台
head a.js  //查看文件头部
tail a.js  //查看文件尾部
head -n 1 a.js  //查看文件第1行
tail -n 2 a.js  //查看文件倒数第2行

grep '2' a.js  //搜索含有"2"的一行
```

